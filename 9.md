--- 9. Nap: Rope Bridge ---
Ez a kötélhíd recseg-ropog, ahogy átkelsz rajta. Elképzelni nem tudod, hogy milyen öreg lehet, és arról sem vagy meggyőzve, hogy elbírja-e egyáltalán a súlyod.

A manókat ez nem különösebben zavarja. A híd egy szakadék fölött halad, amit egy, a mélyben is látható folyó vájt ki.

Óvatosan lépkedsz. Ahogy lépsz, a kötél megnyúlik és megcsavarodik. Hogy eltereld a figyelmed, a kötélfizika modellezésével szórakoztatod magad. Talán arra legalább jó ez, hogy kitaláld, hova **ne** lépj. 

Vegyünk egy kötelet, aminek az elején és a végén egy-egy csomó van. Ezek jelölik a kötél **fejét** és a **farkát**. Ha a fej nagyon messzire megy a farkától, akkor a farka követni fogja. 

Valami ködös, Planck-hosszokról is szóló érvelés alapján ki lehet számolni a csomók pozícióját egy kétdimenziós rácson. A fejre ható elméleti **mozgatássorozatok** ismeretében (a rejtvényed bemenete) követve ki tudnád számolni a farok mozgását is. 

A fent említett Planck-hossz miatt kötélnek meglehetősen rövidnek kell lennie. Egész pontosan a fejnek (H) és a faroknak (T) **mindig érintkeznie kell** átlósan vagy közvetlenül, vagy akár átfedve:

```
....
.TH.
....

....
.H..
..T.
....

...
.H. (H fedi T-t)
...
```

Ha a fej két lépéssel feljebb, jobbrább, lejjebb vagy balrább lenne a faroktól, akkor faroknak egy lépést kell tennie abba az irányba, hogy elég közel maradhasson a fejéhez.  

```
.....    .....    .....
.TH.. -> .T.H. -> ..TH.
.....    .....    .....

...    ...    ...
.T.    .T.    ...
.H. -> ... -> .T.
...    .H.    .H.
...    ...    ...
```
Egyébként, ha a fej és a farok nem érintkezik egymással és a kettő nem egy oszlopban vagy sorban van, akkor farok a fej irányában átlósan mozog, hogy ne maradjon le. 

```
.....    .....    .....
.....    ..H..    ..H..
..H.. -> ..... -> ..T..
.T...    .T...    .....
.....    .....    .....

.....    .....    .....
.....    .....    .....
..H.. -> ...H. -> ..TH.
.T...    .T...    .....
.....    .....    .....
```

Csak ki kell találnod, hogy hova megy a farok, ahogy fej mozog egy mozgatássorozat hatására. 
Tegyük fel, hogy a fej és a farok ugyanarról a pozícióról indul, azaz egymáson vannak.

Ebben az esetben vegyük a következő mozgatássorozatot:

```
R 4
U 4
L 3
D 1
R 4
D 1
L 5
R 2
```

Ez alapján a mozgatássorozat alapján a fej **jobbra** (R) lép négyet, aztán **fel** (U) négyet, majd **balra** (L) hármat végül pedig **le** egyet. Minden lépés után frissíteni kell a farkat, ha a fej már nincs közvetlenül a farok mellett. Ezek a mozgások valahogy így ábrázolhatók (``s`` mutatja a kiindulási pontot mint vonatkoztatási pontot).

```
== Initial State ==

......
......
......
......
H.....  (H takarásában: T, s)

== R 4 ==

......
......
......
......
TH....  (T takarásában: s)

......
......
......
......
sTH...

......
......
......
......
s.TH..

......
......
......
......
s..TH.

== U 4 ==

......
......
......
....H.
s..T..

......
......
....H.
....T.
s.....

......
....H.
....T.
......
s.....

....H.
....T.
......
......
s.....

== L 3 ==

...H..
....T.
......
......
s.....

..HT..
......
......
......
s.....

.HT...
......
......
......
s.....

== D 1 ==

..T...
.H....
......
......
s.....

== R 4 ==

..T...
..H...
......
......
s.....

..T...
...H..
......
......
s.....

......
...TH.
......
......
s.....

......
....TH
......
......
s.....

== D 1 ==

......
....T.
.....H
......
s.....

== L 5 ==

......
....T.
....H.
......
s.....

......
....T.
...H..
......
s.....

......
......
..HT..
......
s.....

......
......
.HT...
......
s.....

......
......
HT....
......
s.....

== R 2 ==

......
......
.H....  (H takarásában: T)
......
s.....

......
......
.TH...
......
s.....
```

A kötél szimulációja után megszámolhatod azokat a pozíciókat, amiket a kötél **farka** legalább egyszer már érintett. 
Ezen a diagramon, ahol ``s`` szintén a kiindulási pontot mutatja (amit a farok természetesen már érintett), a ``#`` mutatja a a farok által legalább egyszer érintett pozíciókat. 


```
..##..
...##.
.####.
....#.
s###..
```

Tehát összesen **``13``** pozíció van, amit a farok legalább egyszer érintett. 

Szimuláld a teljes elméleti mozgássorozatot! **Hány pozíció van, amit a farok legalább egyszer érintett?**

https://adventofcode.com/2022/day/9/input

--- Második rész ---

Egy kötél elpattant! Hirtelen a folyó a mélyben sokkal közelebb kerül, mint ahogyan arra emlékeztél. A kötélhíd továbbra is áll, azonban a néhány elpattanó kötél most feléd csap, ahogy zuhansz!

A kötelek túl gyorsan mozognak ahhoz, hogy elkapd őket. Csak néhány másodperced van, hogy kiválaszd, hogyan csavard ki a tested, hogy elkerüld a csapásaikat. Szerencsére a szimulációd továbbfejleszthető úgy, hogy hosszabb kötelekkel is működhessen. 

Ahelyett, hogy két csomó lenne a kötélen, most **tíz** csomó lesz. Egy csomó továbbra is a kötél fejénél van és H-val jelöljük, ami továbbra is a mozgatásoknak megfelelően mozog. Minden csomó ezek után az előtte lévő csomót követi a fent leírt szabályok mentén. 

A fenti jelölést és a ``H``-t követő csomókat ``1``, ``2``, ..., ``9``-vel jelölve a következőképpen nézne ki a fenti mozgatássorozat:

```
== Kezdőállapot ==

......
......
......
......
H.....  (H takarásában: 1, 2, 3, 4, 5, 6, 7, 8, 9, s)

== R 4 ==

......
......
......
......
1H....  (1 takarásában: 2, 3, 4, 5, 6, 7, 8, 9, s)

......
......
......
......
21H...  (2 takarásában: 3, 4, 5, 6, 7, 8, 9, s)

......
......
......
......
321H..  (3 takarásában: 4, 5, 6, 7, 8, 9, s)

......
......
......
......
4321H.  (4 takarásában: 5, 6, 7, 8, 9, s)

== U 4 ==

......
......
......
....H.
4321..  (4 takarásában: 5, 6, 7, 8, 9, s)

......
......
....H.
.4321.
5.....  (5 takarásában: 6, 7, 8, 9, s)

......
....H.
....1.
.432..
5.....  (5 takarásában: 6, 7, 8, 9, s)

....H.
....1.
..432.
.5....
6.....  (6 takarásában: 7, 8, 9, s)

== L 3 ==

...H..
....1.
..432.
.5....
6.....  (6 takarásában: 7, 8, 9, s)

..H1..
...2..
..43..
.5....
6.....  (6 takarásában: 7, 8, 9, s)

.H1...
...2..
..43..
.5....
6.....  (6 takarásában: 7, 8, 9, s)

== D 1 ==

..1...
.H.2..
..43..
.5....
6.....  (6 takarásában: 7, 8, 9, s)

== R 4 ==

..1...
..H2..
..43..
.5....
6.....  (6 takarásában: 7, 8, 9, s)

..1...
...H..  (H takarásában: 2)
..43..
.5....
6.....  (6 takarásában: 7, 8, 9, s)

......
...1H.  (1 takarásában: 2)
..43..
.5....
6.....  (6 takarásában: 7, 8, 9, s)

......
...21H
..43..
.5....
6.....  (6 takarásában: 7, 8, 9, s)

== D 1 ==

......
...21.
..43.H
.5....
6.....  (6 takarásában: 7, 8, 9, s)

== L 5 ==

......
...21.
..43H.
.5....
6.....  (6 takarásában: 7, 8, 9, s)

......
...21.
..4H..  (H takarásában: 3)
.5....
6.....  (6 takarásában: 7, 8, 9, s)

......
...2..
..H1..  (H takarásában: 4; 1 takarásában: 3)
.5....
6.....  (6 takarásában: 7, 8, 9, s)

......
...2..
.H13..  (1 takarásában: 4)
.5....
6.....  (6 takarásában: 7, 8, 9, s)

......
......
H123..  (2 takarásában: 4)
.5....
6.....  (6 takarásában: 7, 8, 9, s)

== R 2 ==

......
......
.H23..  (H takarásában: 1; 2 takarásában: 4)
.5....
6.....  (6 takarásában: 7, 8, 9, s)

......
......
.1H3..  (H takarásában: 2, 4)
.5....
6.....  (6 takarásában: 7, 8, 9, s)
```

Most az lenne a feladat, hogy a kötél új farkát kell nézni: Mely pozíciókat érinti a ``9``-cel jelölt csomó?

Mivel ebben példában a mozgatások nem viszik elég távol a fejet a kezdőponttól, a farok igazából sosem mozdul el a kezdőpontból, tehát csak **``1``** pozíció lesz ilyen.
Ugyanakkor **óvatosnak kell lenni**: többféle mozgás lehetséges a hosszabb kötél miatt, mint korábban, tehát érdemes összevetni a most szimulált kötelet a korábbival. 

Itt egy nagyobb példa:

```
R 5
U 8
L 8
D 3
R 17
D 10
L 25
U 20
```
Ezek a mozgatások a következő hatásokat érik el (a legtöbb közbülső lépés most nincs kiírva):

```
== Initial State ==

..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
...........H..............  (H covers 1, 2, 3, 4, 5, 6, 7, 8, 9, s)
..........................
..........................
..........................
..........................
..........................

== R 5 ==

..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
...........54321H.........  (5 covers 6, 7, 8, 9, s)
..........................
..........................
..........................
..........................
..........................

== U 8 ==

..........................
..........................
..........................
..........................
..........................
..........................
..........................
................H.........
................1.........
................2.........
................3.........
...............54.........
..............6...........
.............7............
............8.............
...........9..............  (9 covers s)
..........................
..........................
..........................
..........................
..........................

== L 8 ==

..........................
..........................
..........................
..........................
..........................
..........................
..........................
........H1234.............
............5.............
............6.............
............7.............
............8.............
............9.............
..........................
..........................
...........s..............
..........................
..........................
..........................
..........................
..........................

== D 3 ==

..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
.........2345.............
........1...6.............
........H...7.............
............8.............
............9.............
..........................
..........................
...........s..............
..........................
..........................
..........................
..........................
..........................

== R 17 ==

..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
................987654321H
..........................
..........................
..........................
..........................
...........s..............
..........................
..........................
..........................
..........................
..........................

== D 10 ==

..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
...........s.........98765
.........................4
.........................3
.........................2
.........................1
.........................H

== L 25 ==

..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
...........s..............
..........................
..........................
..........................
..........................
H123456789................

== U 20 ==

H.........................
1.........................
2.........................
3.........................
4.........................
5.........................
6.........................
7.........................
8.........................
9.........................
..........................
..........................
..........................
..........................
..........................
...........s..............
..........................
..........................
..........................
..........................
..........................
```

Szimuláld a teljes mozgatássorozatot a nagyobb, tízcsomós kötélen! **Hány különböző pozíciót súrol a kötél vége?**










